---
widget: xl
layout: task-tab
title: Retrieving order properties
AccordionID: xl-retrieving-order-properties
---
<p>The TT RTD Server allows you to retrieve information about individual orders, such as the order properties shown in an Order Book, using an RTD formula. In the following example, the formula retrieves the value of the <strong>Price</strong> order property for the order identified by a <strong>TextTT</strong> value of <strong>ABC</strong>.</p>
<p><img class="img-responsive" src="Content/xl-order-properties-ob-column.png" alt=""></p>
<p>The RTD formula for extracting order information uses the following format.</p>
<!-- -->
<blockquote>
<pre>=RTD("tt.rtd",,"Order",<i>order-property</i>,<i>filter</i>)</pre>
</blockquote>
<!-- -->
<p><b>Note</b>: The second parameter is the name of the external server running the RTD Server. As the TT RTD Server always runs locally, you must omit a value for the second parameter or supply an empty string (“”). However, you must account for the parameter in the formula.</p>
<!-- -->
<p>The <i>order-property</i> parameter can be any property available in the <a href="ob-reference.html#ob-col-desc">Order Book columns</a>, as well as any input and output parameters of an algo order.</p>
<p>Note: The name of the property must match exactly, including capitals, spaces, and special characters.</p>
<!-- -->
<p>The <i>filter</i> parameter must identify precisely one order, using either of the following formulas:</p>
<ul>
  <li><strong>TTOrderID=<i>order-id</i></strong>, where <i>order-id</i> is the TT Order ID for the order.</li>
  <li>
    <strong>TextTT=<i>tag-value</i></strong>, where <i>tag-value</i> is the value of TextTT field associated with the order.
    <p></p>
    For ADL algos launched with an <strong>Instance name</strong> in <a href="../trade/alg-launching-an-algo-from-the-algo-dashboard.html" target="blank">Algo Dashboard</a> that also set the <strong>Order Tag</strong> property of the <a href="../adl/tb-order-block.html#order-tag" target="blank">Order</a> or <a href="../adl/tb-discrete-order-block.html#order-tag" target="blank">Discrete Order</a> blocks, the TextTT field for child orders will be modified using the form, <em>instance-name</em><strong>:</strong><em>order-tag-value</em>.</li>
</ul>

<p><strong>Note</strong>: If the filter matches more than one order, the RTD formula returns an error.</p>

<p>For example, if you want to retrieve the <strong>Contract</strong> property of the order whose <strong>TextTT</strong> property is <strong>bbb</strong>, you need only enter the following formula in a cell.</p>
<!-- -->
<blockquote>
<pre>=RTD("tt.rtd",,"Order","Contract","TextTT=bbb")</pre>
</blockquote>

<p>After processing the formula, Excel displays the result in the cell, similar to the following. Note that the "$" in the cell references are Excel mixed reference notations, and the &amp; symbol joins the values of the two cells to create the string, "TextTT=bbb".</p>

<p>Note: Do not include the quotation marks around values in cells that you reference in a formula.</p>

<p><img class="img-responsive" src="Content/rtd-order-properties-spreadsheet.png" alt=""></p>

<h2 id="adl-variables">Retrieving ADL algo exported variables</h2>

<p>You can also retrieve the values of exported variables from ADL algos. To identify a algo variable, you specify the <i>order-property</i> in the form, <i>block.connector</i>, where <i>block</i> is the name of the ADL block and <i>connector</i> is the name of its output port.</p>

<p>For an input block value, include only the block name. For example:</p>
<!-- -->
<blockquote>
<pre>=RTD("tt.rtd",,"Order","Instrument0","TextTT=myalgo")</pre>
</blockquote>

<p>For an output block value, use the name of the connector shown in the Exports tab for the variable. For example:</p>
<!-- -->
<blockquote>
<pre>=RTD("tt.rtd",,"Order","Entry Fill.fillPrice","TextTT=myalgo")</pre>
</blockquote>

<p><strong>Note</strong>: The names of the block and connector must match exactly, include capitals, spaces, and special characters. For blocks with only one output port, such as an <strong>Add</strong> block, omit the connector.</p>

<p>Suppose you want to access some information from the following ADL algo, including the exported variables are shown in the Exports tab as well as the Instrument ID from the Instrument0 input block.</p>
<p><img class="img-responsive" src="Content/xl-export-algo-variables.png" alt=""></p>
<p>To retrieve these values from the algo order, you would include RTD formulas similar to the following (notice the matching spaces and capitalization):</p>
<ul>
  <li>
    For the <strong>Instrument0</strong> input block:
<blockquote>
<pre>=RTD("tt.rtd",,"Order","<strong>Instrument0</strong>","TextTT=myalgo")</pre>
</blockquote>    
  </li>
  <li>
    For the output of the Add block named <strong>Exit Price</strong>:
<blockquote>
<pre>=RTD("tt.rtd",,"Order","<strong>Exit Price</strong>","TextTT=myalgo")</pre>
</blockquote>    
  </li>
  <li>
    For the <strong>fillQuantity</strong> output of the Time and Sales block named <strong>Entry Fill</strong>:
<blockquote>
<pre>=RTD("tt.rtd",,"Order","<strong>Entry Fill.fillQuantity</strong>","TextTT=myalgo")</pre>
</blockquote>    
  </li>
  <li>
    For the <strong>fillPrice</strong> output of the Time and Sales block named <strong>Entry Fill</strong>:
<blockquote>
<pre>=RTD("tt.rtd",,"Order","<strong>Entry Fill.fillPrice</strong>","TextTT=myalgo")</pre>
</blockquote>    
  </li>
</ul>
