---
widget: oma
layout: desc-tab
title: OCO OMA
AccordionID: oma-oco-public-algo
---

<p>The OCO OMA lets you adopt two or more working orders in the Order Book and apply an OCO (one-cancels-other) OMA (Order Management Algo) to them. When one order is fully-filled, the other orders are canceled. Also, when partial fills are received for one order, the quantities of the other orders are reduced accordingly. The OCO OMA also lets you choose whether cancel the order if the market state of one of the child orders changes to a non-tradable state.</p>

<!--
<p>The TT OCO OMA works with existing orders without regard to whether they use different products and quantities. You could, for example, apply an TT OCO OMA algo to a working order for a 5-lot BRN Mar18 instrument and an order for a 10-lot CL Mar18 order.</p>
-->


<h2 id="limitations">Limitations for adopting orders</h2>
<p>The OCO OMA can adopt exchange orders, <a href="tto-order-types-overview.html">TT Order Types</a>, <a href="../adl/ac-synthetic-order-algos.html" target="_blank">Synthetic Order Algos (SOAs)</a> created in ADL and child orders of other algos. It cannot, however, adopt:</p>
<ul>
	<li hidden>
		TT Order Type parent orders
	</li>
	<li>
		AutospreaderÂ® parent orders
	</li>
	<li>
		Aggregator parent orders
	</li>
	<li>
		OTC orders
	</li>
</ul>

<h2>Launching the OCO OMA</h2>
<p>To launch the OCO OMA:</p>
<ol>
	<li>
		In the Order Book (or a Floating Order Book), select the orders you want the OCO OMA to adopt and manage.
		<p><img class="img-responsive" src="Content/oma-launch-oco-1.png" alt=""/></p>
	</li>
	<li>
		Click OMA and select OCO from the dropdown.
		<p><img class="img-responsive" src="Content/oma-launch-oco-2.png" alt=""/></p>
	</li>
	<li>
		Customize any desired <a href="#params">algo parameters</a> and click Select algo.
		<p><img class="img-responsive" src="Content/oma-launch-oco-3.png" alt=""/></p>
		<p>The OCO parent algo is added to the Order Book above the orders it adopted. If you collapse the parent OCO orders, its child orders will be hidden in the Order Book.</p>
		<p><img class="img-responsive" src="Content/oma-launch-oco-4.png" alt=""/></p>
	</li>
</ol>

<h2 id="params">OCO OMA parameters</h2>
<p>The OCO OMA uses the following parameters:</p>
<ul>
	<li>
		<strong>Delete orphan</strong>: Whether to delete the balance of a larger order when an order with a smaller quantity is fully-filled.
		<br>
		If, at any time, the working quantity of any one of the OCO OMA child orders goes to zero, the other orders are considered to be "orphans." When this parameter is TRUE, all remaining orders are deleted, regardless of their working quantities.
	</li>
	<li>
		<strong>Enforce Mkt State</strong>: Whether to delete the OCO order, and its child orders, if the market state of one of the child instruments changes to a non-tradable state.
		<br>
		If the market state of an instrument changes to something other than Open, and Enforce Mkt State is enabled, all orders will be deleted.
	</li>
	<li>
		<strong>Proportional</strong>: Method to use when reducing the quantities of other legs when one leg is filled.
		<ul>
			<li><strong>True</strong>: Reduce the other leg quantities by the same proportion of the fill quantity to the order quantity of the filled order.</li>
			<li><strong>False</strong>: (Default) Reduce the other leg quantities by the fill quantity of the filled order.</li>
		</ul>
		For example, suppose you create an OCO OMA algo for a 100-lot order and two 50-lot orders and that the 100-lot order receives a fill for 20 lots (20%). If the <strong>Proportional</strong> parameter is <strong>True</strong>, the quantities of the remaining two 50-lot leg orders will also be reduced by 20%, or 10 lots each. If the parameter is false, the quantities of each of the other orders will be reduced by 20 contracts.
	</li>
	<li>
		<strong>Ignore Market State</strong>: Whether to ignore the market state when submitting the parent OCO OMA.
	</li>
	<li>
		<strong>Instance name</strong>: Optional name for this algo instance.
	</li>
	<li>
		<strong>Co-location</strong>: Location of the Algo Server to run this algo.
		<br>
		The <strong>Co-location</strong> drop down is seeded based on the market of the default instrument in the selected algo. It will also seed when multiple instruments are defined if all instruments are from the same market.
	</li>
	<li>
		<strong>Disconnect action</strong>: Action to take if the client loses its connection to TT:
		<ul>
			<li><b>Leave</b> to allow the algo to continue running normally.</li>
			<li><b>Pause</b> to suspend the algo until you manually restart it.</li>
			<li><b>Cancel</b> to delete the algo.</li>
		</ul>

		<b>Note</b>: You can set the default Disconnect action in the <a href="win-reference.html#algo-explorer">Preferences
	</li>
</ul>